{"ast":null,"code":"var _jsxFileName = \"/app/src/components/d3component_testfield.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from \"d3\";\nexport default function D3Test(props) {\n  const d3Container = useRef(null);\n  useEffect(() => {\n    const width = 300;\n    const height = 300;\n    const marging = {\n      top: 10,\n      left: 10,\n      right: 10,\n      bottom: 10\n    };\n    const svg = d3.select(d3Container.current).attr(\"viewbox\", [0, 0, width, height]).attr(\"width\", width).attr(\"height\", height);\n    var y_scale = d3.scaleLinear().domain([10, 100]).range([marging[\"top\"], height - marging[\"bottom\"]]).nice();\n    var y_axis = d3.axisRight().scale(y_scale).ticks(15).tickSize(width);\n    var x_scale = d3.scaleTime().domain([new Date(\"2018-01-01T00:00:00\"), new Date(\"2018-01-03T00:00:00\")]).range([marging[\"left\"], width - marging[\"right\"]]);\n    var x_axis = d3.axisBottom().scale(x_scale); // svg.selectAll(\"circle\").data(y_scale.ticks())\n    //     .join(\"line\")\n    //     .attr(\"x1\",150)\n    //     .attr(\"x2\",250)\n    //     .attr(\"y1\",d=>y_scale(d))\n    //     .attr(\"y2\",d=>y_scale(d))\n    //     .attr(\"stroke\",\"black\")\n\n    svg.append(\"g\").attr(\"stroke-opacity\", 0.5).attr(\"stroke-dasharray\", \"2,2\").attr(\"transform\", \"translate(50,10)\").call(y_axis);\n    svg.append(\"g\").attr(\"transform\", `translate(${marging.left * 3},${height - marging.bottom})`).call(x_axis);\n    svg.selectAll(\".tick text\").attr(\"x\", 4).attr(\"dy\", -4);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"d3_test\",\n    ref: d3Container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 12\n    }\n  });\n}","map":{"version":3,"sources":["/app/src/components/d3component_testfield.js"],"names":["React","useEffect","useRef","useState","d3","D3Test","props","d3Container","width","height","marging","top","left","right","bottom","svg","select","current","attr","y_scale","scaleLinear","domain","range","nice","y_axis","axisRight","scale","ticks","tickSize","x_scale","scaleTime","Date","x_axis","axisBottom","append","call","selectAll"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,MAA1B,EAAkCC,QAAlC,QAAiD,OAAjD;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;AASA,eAAe,SAASC,MAAT,CAAgBC,KAAhB,EAAsB;AACjC,QAAMC,WAAW,GAAGL,MAAM,CAAC,IAAD,CAA1B;AACAD,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMO,KAAK,GAAG,GAAd;AACA,UAAMC,MAAM,GAAG,GAAf;AACA,UAAMC,OAAO,GAAG;AAACC,MAAAA,GAAG,EAAC,EAAL;AAASC,MAAAA,IAAI,EAAC,EAAd;AAAkBC,MAAAA,KAAK,EAAC,EAAxB;AAA2BC,MAAAA,MAAM,EAAC;AAAlC,KAAhB;AACA,UAAMC,GAAG,GAAGX,EAAE,CAACY,MAAH,CAAUT,WAAW,CAACU,OAAtB,EAA+BC,IAA/B,CAAoC,SAApC,EAA8C,CAAC,CAAD,EAAI,CAAJ,EAAOV,KAAP,EAAcC,MAAd,CAA9C,EAAqES,IAArE,CAA0E,OAA1E,EAAkFV,KAAlF,EAAyFU,IAAzF,CAA8F,QAA9F,EAAuGT,MAAvG,CAAZ;AAEA,QAAIU,OAAO,GAAGf,EAAE,CAACgB,WAAH,GAAiBC,MAAjB,CAAwB,CAAC,EAAD,EAAI,GAAJ,CAAxB,EAAkCC,KAAlC,CAAwC,CAACZ,OAAO,CAAC,KAAD,CAAR,EAAgBD,MAAM,GAACC,OAAO,CAAC,QAAD,CAA9B,CAAxC,EAAmFa,IAAnF,EAAd;AAEA,QAAIC,MAAM,GAAGpB,EAAE,CAACqB,SAAH,GAAeC,KAAf,CAAqBP,OAArB,EAA8BQ,KAA9B,CAAoC,EAApC,EAAwCC,QAAxC,CAAiDpB,KAAjD,CAAb;AAEA,QAAIqB,OAAO,GAAGzB,EAAE,CAAC0B,SAAH,GAAeT,MAAf,CAAsB,CAAC,IAAIU,IAAJ,CAAS,qBAAT,CAAD,EAAiC,IAAIA,IAAJ,CAAS,qBAAT,CAAjC,CAAtB,EAAyFT,KAAzF,CAA+F,CAACZ,OAAO,CAAC,MAAD,CAAR,EAAkBF,KAAK,GAACE,OAAO,CAAC,OAAD,CAA/B,CAA/F,CAAd;AAEA,QAAIsB,MAAM,GAAG5B,EAAE,CAAC6B,UAAH,GAAgBP,KAAhB,CAAsBG,OAAtB,CAAb,CAZU,CAcV;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAd,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EACKhB,IADL,CACU,gBADV,EAC2B,GAD3B,EAEKA,IAFL,CAEU,kBAFV,EAE6B,KAF7B,EAGKA,IAHL,CAGU,WAHV,EAGsB,kBAHtB,EAG0CiB,IAH1C,CAG+CX,MAH/C;AAIAT,IAAAA,GAAG,CAACmB,MAAJ,CAAW,GAAX,EACKhB,IADL,CACU,WADV,EACwB,aAAYR,OAAO,CAACE,IAAR,GAAa,CAAE,IAAGH,MAAM,GAAGC,OAAO,CAACI,MAAO,GAD9E,EAEKqB,IAFL,CAEUH,MAFV;AAGAjB,IAAAA,GAAG,CAACqB,SAAJ,CAAc,YAAd,EACKlB,IADL,CACU,GADV,EACe,CADf,EACkBA,IADlB,CACuB,IADvB,EAC6B,CAAC,CAD9B;AAEH,GA/BQ,EA+BN,EA/BM,CAAT;AAiCA,sBAAO;AACH,IAAA,SAAS,EAAC,SADP;AAGH,IAAA,GAAG,EAAEX,WAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AAKH","sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\nimport * as d3 from \"d3\";\n\n\n\n\n\n\n\n\nexport default function D3Test(props){\n    const d3Container = useRef(null);\n    useEffect(()=>{\n        const width = 300\n        const height = 300\n        const marging = {top:10, left:10, right:10,bottom:10}\n        const svg = d3.select(d3Container.current).attr(\"viewbox\",[0, 0, width, height]).attr(\"width\",width).attr(\"height\",height)\n\n        var y_scale = d3.scaleLinear().domain([10,100]).range([marging[\"top\"],height-marging[\"bottom\"]]).nice()\n\n        var y_axis = d3.axisRight().scale(y_scale).ticks(15).tickSize(width)\n\n        var x_scale = d3.scaleTime().domain([new Date(\"2018-01-01T00:00:00\"),new Date(\"2018-01-03T00:00:00\")]).range([marging[\"left\"], width-marging[\"right\"]])\n\n        var x_axis = d3.axisBottom().scale(x_scale)\n\n        // svg.selectAll(\"circle\").data(y_scale.ticks())\n        //     .join(\"line\")\n        //     .attr(\"x1\",150)\n        //     .attr(\"x2\",250)\n        //     .attr(\"y1\",d=>y_scale(d))\n        //     .attr(\"y2\",d=>y_scale(d))\n        //     .attr(\"stroke\",\"black\")\n\n        svg.append(\"g\")\n            .attr(\"stroke-opacity\",0.5)\n            .attr(\"stroke-dasharray\",\"2,2\")\n            .attr(\"transform\",\"translate(50,10)\").call(y_axis)\n        svg.append(\"g\")\n            .attr(\"transform\", `translate(${marging.left*3},${height - marging.bottom})`)\n            .call(x_axis)\n        svg.selectAll(\".tick text\")\n            .attr(\"x\", 4).attr(\"dy\", -4);\n    }, [])\n\n    return <svg\n        className=\"d3_test\"\n\n        ref={d3Container}\n    />\n}"]},"metadata":{},"sourceType":"module"}